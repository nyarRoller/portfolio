(this["webpackJsonpwether-react"]=this["webpackJsonpwether-react"]||[]).push([[0],{16:function(t,e,n){},17:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var a=n(1),i=n.n(a),s=n(3),c=n.n(s),l=(n(16),n(4)),r=n(5),o=n(7),d=n(6),m=(n(17),n(21)),u=n(0);function h(t){var e="weather-card",n="weather-card-element temp",a="weather-card-element main";return t.isLast&&(e="weather-card last tn",n="weather-card-element temp no_animate",a="weather-card-element main no_animate"),t.isFirst&&(n="weather-card-element temp no_animate",a="weather-card-element main no_animate"),Object(u.jsxs)("div",{className:e,children:[Object(u.jsx)("div",{className:"date tn",children:t.date}),Object(u.jsxs)("div",{className:n,children:[t.temp," \xb0C"]}),Object(u.jsx)("div",{className:a,children:t.weather}),Object(u.jsxs)("div",{className:"weather-card-element max_temp tn",children:["Maximum: ",t.max_temp," \xb0C"]}),Object(u.jsxs)("div",{className:"weather-card-element min_temp tn",children:["Minimum: ",t.min_temp," \xb0C"]}),Object(u.jsxs)("div",{className:"weather-card-element cloudiness tn",children:["Clouds: ",t.cloud,"%"]}),Object(u.jsxs)("div",{className:"weather-card-element wind_speed tn",children:["Wind speed: ",t.wind_speed," Km/H"]})]})}var p=function(t){Object(o.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).handleSubmit=function(t){t.preventDefault(),a.getDataCity(a.inputNode.value),a.inputNode.value=""},a.state={city:"London",first_get:!1,pos:[],list:[{date:null,temp:null,max_temp:null,min_temp:null,weather:null,cloud:null,wind_speed:null},{date:null,temp:null,max_temp:null,min_temp:null,weather:null,cloud:null,wind_speed:null},{date:null,temp:null,max_temp:null,min_temp:null,weather:null,cloud:null,wind_speed:null}],coords:null,error:!1,setDef:!0},a}return Object(r.a)(n,[{key:"getDataCord",value:function(){var t=this,e=this.state.coords;fetch("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(e.coords.latitude,"&lon=").concat(e.coords.longitude,"&units=metric&appid=948f7328f7cfd2ea91673c115454976d")).then((function(t){return t.json()})).then((function(e){var n=t.state.list;[0,20,39].forEach((function(t,a,i){n[a].temp=Math.round(e.list[t].main.temp),n[a].max_temp=Math.round(e.list[t].main.temp_max),n[a].min_temp=Math.round(e.list[t].main.temp_min),n[a].wind_speed=e.list[t].wind.speed,n[a].weather=e.list[t].weather[0].main,n[a].cloud=e.list[t].clouds.all,n[a].city=e.city.name,n[a].date=e.list[t].dt_txt})),console.log(e.city.name),t.setState({list:n,city:n[0].city})})).catch((function(t){return console.log(t)}))}},{key:"getDataCity",value:function(t){var e=this;fetch("https://api.openweathermap.org/geo/1.0/direct?q=".concat(t,"&limit=5&appid=948f7328f7cfd2ea91673c115454976d")).then((function(t){return t.json()})).then((function(t){return[t[0].lat,t[0].lon]})).then((function(t){return fetch("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(t[0],"&lon=").concat(t[1],"&units=metric&appid=948f7328f7cfd2ea91673c115454976d"))})).then((function(t){return t.json()})).then((function(n){var a=e.state.list;[0,20,39].forEach((function(t,e,i){a[e].temp=Math.round(n.list[t].main.temp),a[e].max_temp=Math.round(n.list[t].main.temp_max),a[e].min_temp=Math.round(n.list[t].main.temp_min),a[e].wind_speed=n.list[t].wind.speed,a[e].weather=n.list[t].weather[0].main,a[e].cloud=n.list[t].clouds.all,a[e].city=n.list[t].name,a[e].date=n.list[t].dt_txt})),e.setState({list:a,city:t})}))}},{key:"getGeo",value:function(){}},{key:"render",value:function(){var t=this;this.setState.setDef,this.state.first_get||(0!=this.state.error&&(this.setState({first_get:!0}),this.getDataCity("London"),this.setState({setDef:!1}),console.log("[ERROR]")),window.navigator.geolocation?(window.navigator.geolocation.getCurrentPosition((function(e){t.setState({coords:e})}),(function(e){t.setState({error:e})})),console.log(this.state.error),null!=this.state.coords&&(this.setState({first_get:!0}),console.log(this.state.coords),this.getDataCord())):this.setState({first_get:!0}));var e=this.state.city,n=this.state.list,a=0,i="main_box";return this.state.first_get||null!==this.state.list[0].temp||(i+=" invisiable",a=200),console.log(i),Object(u.jsxs)("div",{className:"weater",children:[Object(u.jsx)(m.a,{color:"#36d7b7",size:a}),Object(u.jsxs)("div",{className:i,children:[Object(u.jsx)("div",{className:"city",children:e}),Object(u.jsxs)("div",{className:"weather_cards",children:[Object(u.jsx)(h,{temp:n[0].temp,cloud:n[0].cloud,wind_speed:n[0].wind_speed,max_temp:n[0].max_temp,weather:n[0].weather,min_temp:n[0].min_temp,date:n[0].date,isFirst:!0}),Object(u.jsx)(h,{temp:n[1].temp,cloud:n[1].cloud,wind_speed:n[1].wind_speed,max_temp:n[1].max_temp,weather:n[1].weather,min_temp:n[1].min_temp,date:n[1].date,isLastFirst:!1}),Object(u.jsx)(h,{temp:n[2].temp,cloud:n[2].cloud,wind_speed:n[2].wind_speed,max_temp:n[2].max_temp,weather:n[2].weather,min_temp:n[2].min_temp,date:n[2].date,isLast:!0})]}),Object(u.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(u.jsxs)("div",{className:"user-box",children:[Object(u.jsx)("input",{type:"text",ref:function(e){return t.inputNode=e}}),Object(u.jsx)("label",{children:"City"})]}),Object(u.jsx)("button",{href:"#",onClick:this.handleSubmit,type:"submit",children:"Submit"})]})]})]})}}]),n}(i.a.Component),_=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,s=e.getLCP,c=e.getTTFB;n(t),a(t),i(t),s(t),c(t)}))};c.a.createRoot(document.getElementById("root")).render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(p,{})})),_()}},[[19,1,2]]]);
//# sourceMappingURL=main.6629217c.chunk.js.map